

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Bootstrapfiles &mdash; Wishbone master documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'master',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Wishbone master documentation" href="index.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Wishbone master documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="bootstrapfiles">
<span id="id1"></span><h1>Bootstrapfiles<a class="headerlink" href="#bootstrapfiles" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Wishbone setups can be bootstrapped and started from command line using a bootstrapfile.
A bootstrap file allows you to configure the complete Wishbone setup without the need to dive into your Python code.
It&#8217;s a practical way to deliver a fully configurable Wishbone based solution to your end users.</p>
<p>Example bootstrap file:</p>
<div class="highlight-text"><div class="highlight"><pre>{
   &quot;system&quot;:{
   },
   &quot;metrics&quot;:{
      &quot;enable&quot;:true,
      &quot;group&quot;:&quot;wishbone.metrics&quot;,
      &quot;module&quot;:&quot;Log&quot;,
      &quot;interval&quot;:5,
      &quot;variables&quot;:{
      }
   },
   &quot;bootstrap&quot;:{
      &quot;broker&quot;:{
         &quot;group&quot;:&quot;wishbone.iomodule&quot;,
         &quot;module&quot;:&quot;Broker&quot;,
         &quot;variables&quot;:{
            &quot;host&quot;:&quot;localhost&quot;,
            &quot;vhost&quot;:&quot;/&quot;,
            &quot;username&quot;:&quot;guest&quot;,
            &quot;password&quot;:&quot;guest&quot;,
            &quot;consume_queue&quot;:&quot;wishbone&quot;,
            &quot;prefetch_count&quot;:100,
            &quot;no_ack&quot;:false
         }
      },
      &quot;loopback&quot;:{
         &quot;group&quot;:&quot;wishbone.module&quot;,
         &quot;module&quot;:&quot;BrokerLoopback&quot;,
         &quot;variables&quot;:{
            &quot;key&quot;:&quot;wishbone&quot;,
            &quot;exchange&quot;:&quot;&quot;,
            &quot;dump&quot;:500
         }
      }
   },
   &quot;routingtable&quot;:{
      &quot;broker.inbox&quot;:[
         &quot;loopback.inbox&quot;
      ],
      &quot;loopback.outbox&quot;:[
         &quot;broker.outbox&quot;
      ]
   }
}
</pre></div>
</div>
<p id="bootstrapfiles-system"><strong>A bootstrap file consists out of 4 sections:</strong></p>
</div>
<div class="section" id="system">
<h2>system<a class="headerlink" href="#system" title="Permalink to this headline">¶</a></h2>
<p>This is an optional section.  It is reserverd for future use.</p>
</div>
<div class="section" id="metrics">
<h2>metrics<a class="headerlink" href="#metrics" title="Permalink to this headline">¶</a></h2>
<p>The metrics section is obligatory.  It allows you to define a module which will handle the metrics.</p>
<p>Parameters:</p>
<ul class="simple">
<li>enable (bool):                When true, metrics are emitted.</li>
<li>group (string):               Defines the entrypoint group in which the module is stored.</li>
<li>module (string):              The name of the module (entrypoint).</li>
<li>interval (int):               The interval in seconds between dumping metrics. Default 10 seconds.</li>
<li>variables (dict):             Variables the module might require.</li>
</ul>
</div>
<div class="section" id="bootstrap">
<h2>bootstrap<a class="headerlink" href="#bootstrap" title="Permalink to this headline">¶</a></h2>
<p>The bootstrap section is where we define the Wishbone modules and their parameters to load and initialise.
The modules should be loadable from the Python search path, otherwise Wishbone will not be able to load them.</p>
<p>One section out consists out of following structure:</p>
<div class="highlight-text"><div class="highlight"><pre>&quot;The instance name when initiated.&quot;:{
            &quot;group&quot;:&quot;the name of the group containing the module. This is an entrypoint group.&quot;,
            &quot;module&quot;:&quot;The name of the Wishbone module to load. (Entrypoint)&quot;,
            &quot;variables&quot;:{
                &quot;parameter1&quot;:x,
                &quot;parameter2&quot;:y,
                &quot;parameter3&quot;:z
            }
}
</pre></div>
</div>
</div>
<div class="section" id="routingtable">
<h2>routingtable<a class="headerlink" href="#routingtable" title="Permalink to this headline">¶</a></h2>
<p>The routing table determines which queues are connected to each other.</p>
<p>Currently we have 2 kinds of connections:</p>
<blockquote>
<div><ul class="simple">
<li>1-1   : The most standard connection. Events from 1 queue go into another queue.</li>
<li>1-n   : 1 to many connection.  This duplicates the events from 1 queue to each queue it is connected to.</li>
</ul>
</div></blockquote>
<p>The routing table has following format:</p>
<div class="highlight-text"><div class="highlight"><pre>&quot;routingtable&quot;:{
    &quot;bootstrapInstanceName.queueName&quot;:[
        &quot;bootstrapInstanceName.queueName&quot;
    ],
    &quot;bootstrapInstanceName.queueName&quot;:[
        &quot;bootstrapInstanceName.queueName&quot;
    ]
}
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Bootstrapfiles</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#system">system</a></li>
<li><a class="reference internal" href="#metrics">metrics</a></li>
<li><a class="reference internal" href="#bootstrap">bootstrap</a></li>
<li><a class="reference internal" href="#routingtable">routingtable</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="introduction.html"
                        title="previous chapter">Introduction</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/bootstrapfiles.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="introduction.html" title="Introduction"
             >previous</a> |</li>
        <li><a href="index.html">Wishbone master documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Jelle Smet.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>